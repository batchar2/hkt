{"ast":null,"code":"var _jsxFileName = \"/home/vladislav/React/app2/hkt/webui/src/pages/ObjectAdd/ObjectAdd.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { actions as routerActions, createRouteNodeSelector } from 'redux-router5';\nimport ImageUploader from 'react-images-upload';\nimport { ROUTES } from '../../constants/router.consts';\nimport objectDetailActions from '../../store/actions/object-detail.actions.js';\nimport NotFoundPicture from './notfound.png';\n\nclass ObjectAdd extends React.Component {\n  onDropImage(pictureFiles, pictureDataURLs) {\n    this.pictureDataURLs = pictureDataURLs;\n    this.props.addPicture(pictureDataURLs, this.props.object);\n  }\n\n  handleSave(event) {\n    event.preventDefault();\n\n    if (this.getPicture) {\n      this.props.saveObject(this.getName.value, this.getPicture.src);\n    }\n  }\n\n  handleCancel(event) {\n    event.preventDefault();\n    /*this.props.navigateTo(ROUTES.GET_OBJECT_DETAIL, this.props.params.id);*/\n  }\n\n  render() {\n    let img = NotFoundPicture;\n    let name = '';\n    let picture = undefined;\n\n    if (this.props.object) {\n      name = this.props.name;\n\n      if (this.props.object.picture) {\n        picture = React.createElement(\"img\", {\n          src: this.props.object.picture,\n          width: 128,\n          ref: img => this.getPicture = img,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        });\n      }\n    }\n\n    console.error('camera_detail!', this.props.camera);\n    return React.createElement(\"div\", {\n      id: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-wrapper col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 \\u043E\\u0431\\u044A\\u0435\\u043A\\u0442\\u0430\")), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"name\",\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n      ref: input => this.getName = input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, picture), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(ImageUploader, {\n      withIcon: true,\n      buttonText: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\",\n      imgExtension: ['.jpg', '.gif', '.png', '.svg', '.jpeg'],\n      maxFileSize: 524288000,\n      onChange: (pictureFiles, pictureDataURLs) => this.onDropImage(pictureFiles, pictureDataURLs),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: e => this.handleCancel(e),\n      className: \"btn btn-secondary float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\")), React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: e => this.handleSave(e),\n      className: \"btn btn-primary float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\")))));\n  }\n\n}\n\nexport default connect(state => ({\n  user: state.user,\n  object: state.object\n}), dispatch => ({\n  addPicture: (picture, object) => {\n    dispatch(objectDetailActions.addPicture(picture, object));\n  },\n  saveObject: (name, picture) => {\n    dispatch(objectDetailActions.saveObject(name, picture));\n  }\n}))(ObjectAdd);","map":{"version":3,"sources":["/home/vladislav/React/app2/hkt/webui/src/pages/ObjectAdd/ObjectAdd.js"],"names":["React","connect","actions","routerActions","createRouteNodeSelector","ImageUploader","ROUTES","objectDetailActions","NotFoundPicture","ObjectAdd","Component","onDropImage","pictureFiles","pictureDataURLs","props","addPicture","object","handleSave","event","preventDefault","getPicture","saveObject","getName","value","src","handleCancel","render","img","name","picture","undefined","console","error","camera","input","e","state","user","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport { actions as routerActions, createRouteNodeSelector } from 'redux-router5';\nimport ImageUploader from 'react-images-upload';\nimport { ROUTES } from '../../constants/router.consts';\nimport objectDetailActions from '../../store/actions/object-detail.actions.js';\nimport NotFoundPicture from './notfound.png';\n\nclass ObjectAdd extends React.Component {\n\n\n\n    onDropImage(pictureFiles, pictureDataURLs) {\n        this.pictureDataURLs = pictureDataURLs;\n\n        this.props.addPicture(pictureDataURLs, this.props.object);\n    }\n\n    handleSave(event) {\n        event.preventDefault();\n        if (this.getPicture) {\n          this.props.saveObject(this.getName.value, this.getPicture.src);\n        }\n\n    }\n\n    handleCancel(event) {\n        event.preventDefault();\n\n        /*this.props.navigateTo(ROUTES.GET_OBJECT_DETAIL, this.props.params.id);*/\n    }\n\n    render() {\n        let img = NotFoundPicture;\n        let name = '';\n        let picture = undefined;\n         if (this.props.object) {\n            name = this.props.name;\n             if (this.props.object.picture) {\n                 picture = <img src={this.props.object.picture} width={128}\n                 ref={img => this.getPicture = img}/>\n             }\n        }\n        console.error('camera_detail!', this.props.camera);\n        return (\n          <div id=\"content\">\n              <div className=\"content-wrapper col\">\n                  <div className=\"title-wrapper\">\n                      <h2>Создание объекта</h2>\n                  </div>\n\n                  <div className=\"form-group row\">\n                      <label htmlFor=\"name\" className=\"col-sm-2 col-form-label\">Название</label>\n                      <div className=\"col-sm-10\">\n                          <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              id=\"name\"\n                              placeholder=\"Название\"\n                              ref={input => this.getName = input}\n                          />\n                      </div>\n                  </div>\n\n                  <div className=\"row\">\n                      {picture}\n                  </div>\n                  <div className=\"row\">\n                      <ImageUploader\n                          withIcon={true}\n                          buttonText='Выберите изображение'\n                          imgExtension={['.jpg', '.gif', '.png', '.svg', '.jpeg']}\n                          maxFileSize={524288000}\n                          onChange={(pictureFiles, pictureDataURLs) => this.onDropImage(pictureFiles, pictureDataURLs)}/>\n                  </div>\n                  <div className=\"row\">\n                      <div className=\"col-sm-8\"></div>\n                      <div className=\"col-sm-2\">\n                          <button onClick={e => this.handleCancel(e)} className=\"btn btn-secondary float-right\">\n                              Отмена\n                          </button>\n                      </div>\n                      <div className=\"col-sm-2\">\n                          <button onClick={e => this.handleSave(e)} className=\"btn btn-primary float-right\">\n                              Сохранить\n                          </button>\n                      </div>\n                  </div>\n              </div>\n          </div>\n        );\n    }\n}\n\nexport default connect(\n    state => ({\n        user: state.user,\n        object: state.object,\n    }),\n    dispatch => ({\n\n        addPicture: (picture, object) => {\n            dispatch(objectDetailActions.addPicture(picture, object));\n        },\n        saveObject: (name, picture) => {\n            dispatch(objectDetailActions.saveObject(name, picture));\n        },\n    }),\n)(ObjectAdd);\n"]},"metadata":{},"sourceType":"module"}