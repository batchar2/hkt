{"ast":null,"code":"import _objectSpread from \"/home/bat/Apps/Vizorlabs/VZA/webui/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios';\nimport constants from '../../constants/object-detail.consts.js';\nexport const loadObjectDetail = objectId => {\n  return dispatch => {\n    axios.get(\"\".concat(axios.defaults.baseURL, \"/api/object/\").concat(objectId)).then(res => {\n      console.error('loadObjectDetail >>>', res.data);\n      dispatch({\n        type: constants.GET_OBJECT_DETAIL,\n        payload: res.data\n      });\n    }); // вызываю API\n    // потом делаю вызов, залоген или нет пользователь\n    // dispatch({\n    //     type: constants.GET_OBJECT_DETAIL,\n    //     payload: {\n    //         id: 1,\n    //         name: \"object1\",\n    //         picture: \"./map.jpg\",\n    //         cameras: [{\n    //             id: 1,\n    //             name: \"camera 1\",\n    //             screenshot: \"/media/restapi/1.png\",\n    //             position_coords: \"qweqweqwe\",\n    //             isHovered: false,\n    //         },\n    //         {\n    //             id: 2,\n    //             name: \"camera 2\",\n    //             screenshot: \"/media/restapi/1.png\",\n    //             position_coords: \"qweqweqwe\",\n    //             isHovered: false,\n    //         },\n    //         {\n    //             id: 3,\n    //             name: \"camera 3\",\n    //             screenshot: \"/media/restapi/1.png\",\n    //             position_coords: \"qweqweqwe\",\n    //             isHovered: false,\n    //         },\n    //       ]\n    //     }\n    // });\n    // dispatch({\n    //     type: constants.GET_OBJECT_DETAIL,\n    //     payload: {\n    //         id: 1,\n    //         name: \"object1\",\n    //         picture: \"./map.jpg\",\n    //         cameras: [{\n    //             id: 1,\n    //             name: \"camera 1\",\n    //             screenshot: \"/media/restapi/1.png\",\n    //             position_coords: \"qweqweqwe\",\n    //             isHovered: false,\n    //         },\n    //         {\n    //             id: 2,\n    //             name: \"camera 2\",\n    //             screenshot: \"/media/restapi/1.png\",\n    //             position_coords: \"qweqweqwe\",\n    //             isHovered: false,\n    //         },\n    //         {\n    //             id: 3,\n    //             name: \"camera 3\",\n    //             screenshot: \"/media/restapi/1.png\",\n    //             position_coords: \"qweqweqwe\",\n    //             isHovered: false,\n    //         },\n    //       ]\n    //     }\n    // });\n  };\n};\nexport const hoverChanged = (obj, camera, hoverVal) => {\n  return dispatch => {\n    let st = _objectSpread({}, obj);\n\n    for (let i = 0; i < obj.cameras.length; i++) {\n      if (obj[i].id == camera.id) {\n        obj[i].isHovered = hoverVal;\n      }\n    }\n\n    dispatch({\n      type: constants.HOVER_CHANGED,\n      payload: {\n        obj\n      }\n    });\n    /**\n    cameras: [{\n        id: 1,\n        name: \"camera 1\",\n        screenshot: \"/media/restapi/1.png\",\n        position_coords: \"qweqweqwe\",\n        isHovered: hoverVal,\n    },\n    {\n        id: 2,\n        name: \"camera 2\",\n        screenshot: \"/media/restapi/1.png\",\n        position_coords: \"qweqweqwe\",\n        isHovered: hoverVal,\n    },\n    {\n        id: 3,\n        name: \"camera 3\",\n        screenshot: \"/media/restapi/1.png\",\n        position_coords: \"qweqweqwe\",\n        isHovered: hoverVal,\n    },\n    ]\n    */\n  };\n};\nexport const addPicture = (picture, object) => {\n  return dispatch => {\n    dispatch({\n      type: constants.OBJECT_ADD_PICTURE,\n      payload: {\n        id: 1,\n        name: \"object1\",\n        picture: picture,\n        cameras: [{\n          id: 1,\n          name: \"camera 1\",\n          screenshot: \"/media/restapi/1.png\",\n          position_coords: \"qweqweqwe\",\n          isHovered: false\n        }]\n      }\n    });\n  };\n};\nexport const saveObject = (name, picture) => {\n  console.error(name, picture);\n  return dispatch => {\n    dispatch({\n      type: constants.OBJECT_SAVE,\n      payload: {\n        id: 1,\n        name: \"object1\",\n        picture: picture\n      }\n    });\n  };\n};\nexport const deleteObject = id => {\n  return dispatch => {\n    dispatch({\n      type: constants.OBJECT_DELETE,\n      payload: {\n        id: 1,\n        name: \"object1\",\n        picture: null\n      }\n    });\n  };\n};\nexport default {\n  loadObjectDetail,\n  hoverChanged,\n  addPicture,\n  saveObject,\n  deleteObject\n};","map":{"version":3,"sources":["/home/bat/Apps/Vizorlabs/VZA/webui/src/store/actions/object-detail.actions.js"],"names":["axios","constants","loadObjectDetail","objectId","dispatch","get","defaults","baseURL","then","res","console","error","data","type","GET_OBJECT_DETAIL","payload","hoverChanged","obj","camera","hoverVal","st","i","cameras","length","id","isHovered","HOVER_CHANGED","addPicture","picture","object","OBJECT_ADD_PICTURE","name","screenshot","position_coords","saveObject","OBJECT_SAVE","deleteObject","OBJECT_DELETE"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport constants from '../../constants/object-detail.consts.js';\n\n\nexport const loadObjectDetail = (objectId) => {\n    return dispatch => {\n        axios.get(`${axios.defaults.baseURL}/api/object/${objectId}`)\n            .then(res => {\n                console.error('loadObjectDetail >>>', res.data);\n                dispatch({\n                    type: constants.GET_OBJECT_DETAIL,\n                    payload: res.data,\n                });\n            });\n        // вызываю API\n        // потом делаю вызов, залоген или нет пользователь\n        // dispatch({\n        //     type: constants.GET_OBJECT_DETAIL,\n        //     payload: {\n        //         id: 1,\n        //         name: \"object1\",\n        //         picture: \"./map.jpg\",\n        //         cameras: [{\n        //             id: 1,\n        //             name: \"camera 1\",\n        //             screenshot: \"/media/restapi/1.png\",\n        //             position_coords: \"qweqweqwe\",\n        //             isHovered: false,\n        //         },\n        //         {\n        //             id: 2,\n        //             name: \"camera 2\",\n        //             screenshot: \"/media/restapi/1.png\",\n        //             position_coords: \"qweqweqwe\",\n        //             isHovered: false,\n        //         },\n        //         {\n        //             id: 3,\n        //             name: \"camera 3\",\n        //             screenshot: \"/media/restapi/1.png\",\n        //             position_coords: \"qweqweqwe\",\n        //             isHovered: false,\n        //         },\n        //       ]\n        //     }\n        // });\n        // dispatch({\n        //     type: constants.GET_OBJECT_DETAIL,\n        //     payload: {\n        //         id: 1,\n        //         name: \"object1\",\n        //         picture: \"./map.jpg\",\n        //         cameras: [{\n        //             id: 1,\n        //             name: \"camera 1\",\n        //             screenshot: \"/media/restapi/1.png\",\n        //             position_coords: \"qweqweqwe\",\n        //             isHovered: false,\n        //         },\n        //         {\n        //             id: 2,\n        //             name: \"camera 2\",\n        //             screenshot: \"/media/restapi/1.png\",\n        //             position_coords: \"qweqweqwe\",\n        //             isHovered: false,\n        //         },\n        //         {\n        //             id: 3,\n        //             name: \"camera 3\",\n        //             screenshot: \"/media/restapi/1.png\",\n        //             position_coords: \"qweqweqwe\",\n        //             isHovered: false,\n        //         },\n        //       ]\n        //     }\n        // });\n    }\n};\n\nexport const hoverChanged = (obj, camera, hoverVal) => {\n    return dispatch => {\n        let st = {...obj}\n        for (let i = 0; i < obj.cameras.length; i++ ) {\n            if (obj[i].id == camera.id) {\n                obj[i].isHovered = hoverVal;\n            }\n        }\n      dispatch({\n          type: constants.HOVER_CHANGED,\n          payload: {\n              obj\n          }\n      });\n      /**\n      cameras: [{\n          id: 1,\n          name: \"camera 1\",\n          screenshot: \"/media/restapi/1.png\",\n          position_coords: \"qweqweqwe\",\n          isHovered: hoverVal,\n      },\n      {\n          id: 2,\n          name: \"camera 2\",\n          screenshot: \"/media/restapi/1.png\",\n          position_coords: \"qweqweqwe\",\n          isHovered: hoverVal,\n      },\n      {\n          id: 3,\n          name: \"camera 3\",\n          screenshot: \"/media/restapi/1.png\",\n          position_coords: \"qweqweqwe\",\n          isHovered: hoverVal,\n      },\n    ]\n      */\n    }\n};\n\nexport const addPicture = (picture, object) => {\n    return (dispatch) => {\n        dispatch({\n            type: constants.OBJECT_ADD_PICTURE,\n            payload: {id: 1,\n            name: \"object1\",\n            picture: picture,\n            cameras: [{\n                id: 1,\n                name: \"camera 1\",\n                screenshot: \"/media/restapi/1.png\",\n                position_coords: \"qweqweqwe\",\n                isHovered: false,\n            }]\n          }\n        });\n    };\n}\n\nexport const saveObject = (name, picture) => {\n    console.error(name, picture);\n    return (dispatch) => {\n        dispatch({\n            type: constants.OBJECT_SAVE,\n            payload: {\n              id: 1,\n              name: \"object1\",\n              picture: picture,\n            }\n        });\n    };\n}\n\nexport const deleteObject = (id) => {\n    return (dispatch) => {\n        dispatch({\n            type: constants.OBJECT_DELETE,\n            payload: {\n              id: 1,\n              name: \"object1\",\n              picture: null,\n            }\n        });\n    };\n}\n\nexport default {loadObjectDetail, hoverChanged, addPicture, saveObject, deleteObject};\n"]},"metadata":{},"sourceType":"module"}