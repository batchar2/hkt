{"ast":null,"code":"var _jsxFileName = \"/home/vladislav/React/app2/hkt/webui/src/pages/ObjectEdit/ObjectEdit.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { actions as routerActions, createRouteNodeSelector } from 'redux-router5';\nimport ImageUploader from 'react-images-upload';\nimport { ROUTES } from '../../constants/router.consts';\nimport objectDetailActions from '../../store/actions/object-detail.actions.js';\nimport NotFoundPicture from './notfound.png';\n\nclass ObjectEdit extends React.Component {\n  onDropImage(pictureFiles, pictureDataURLs) {\n    this.pictureDataURLs = pictureDataURLs;\n    this.props.addPicture(pictureDataURLs, this.props.object);\n  }\n\n  handleSave(event) {\n    event.preventDefault();\n    this.props.saveObject(this.getName.value, this.getPicture.src);\n  }\n\n  handleCancel(event) {\n    event.preventDefault();\n    this.props.navigateTo(ROUTES.OBJECT_DETAIL, this.props.params);\n  }\n\n  render() {\n    let img = NotFoundPicture;\n    let name = '';\n    let picture = undefined;\n\n    if (this.props.object) {\n      name = this.props.object.name;\n\n      if (this.props.object.picture) {\n        picture = React.createElement(\"img\", {\n          src: this.props.object.picture,\n          width: 128,\n          ref: img => this.getPicture = img,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        });\n      }\n    }\n\n    console.error('camera_detail!', this.props.camera);\n    return React.createElement(\"div\", {\n      id: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-wrapper col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043E\\u0431\\u044A\\u0435\\u043A\\u0442\\u0430\")), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"name\",\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n      ref: input => this.getName = input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, picture), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(ImageUploader, {\n      withIcon: true,\n      buttonText: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\",\n      imgExtension: ['.jpg', '.gif', '.png', '.svg', '.jpeg'],\n      maxFileSize: 524288000,\n      onChange: (pictureFiles, pictureDataURLs) => this.onDropImage(pictureFiles, pictureDataURLs),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: e => this.handleCancel(e),\n      className: \"btn btn-secondary float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\")), React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: e => this.handleSave(e),\n      className: \"btn btn-primary float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\")))));\n  }\n\n}\n\nexport default connect(state => ({\n  user: state.user,\n  object: state.object\n}), dispatch => ({\n  addPicture: (picture, p) => {\n    dispatch(objectDetailActions.addPicture(picture, p));\n  },\n  saveObject: (name, picture) => {\n    dispatch(objectDetailActions.saveObject(name, picture));\n  },\n  navigateTo: (name, params) => {\n    dispatch(routerActions.navigateTo(name, params));\n  }\n}))(ObjectEdit);","map":{"version":3,"sources":["/home/vladislav/React/app2/hkt/webui/src/pages/ObjectEdit/ObjectEdit.js"],"names":["React","connect","actions","routerActions","createRouteNodeSelector","ImageUploader","ROUTES","objectDetailActions","NotFoundPicture","ObjectEdit","Component","onDropImage","pictureFiles","pictureDataURLs","props","addPicture","object","handleSave","event","preventDefault","saveObject","getName","value","getPicture","src","handleCancel","navigateTo","OBJECT_DETAIL","params","render","img","name","picture","undefined","console","error","camera","input","e","state","user","dispatch","p"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport { actions as routerActions, createRouteNodeSelector } from 'redux-router5';\nimport ImageUploader from 'react-images-upload';\nimport { ROUTES } from '../../constants/router.consts';\nimport objectDetailActions from '../../store/actions/object-detail.actions.js';\nimport NotFoundPicture from './notfound.png';\n\nclass ObjectEdit extends React.Component {\n\n\n\n    onDropImage(pictureFiles, pictureDataURLs) {\n        this.pictureDataURLs = pictureDataURLs;\n\n        this.props.addPicture(pictureDataURLs, this.props.object);\n    }\n\n    handleSave(event) {\n        event.preventDefault();\n        this.props.saveObject(this.getName.value, this.getPicture.src);\n    }\n\n    handleCancel(event) {\n        event.preventDefault();\n\n        this.props.navigateTo(ROUTES.OBJECT_DETAIL, this.props.params);\n    }\n\n    render() {\n        let img = NotFoundPicture;\n        let name = '';\n        let picture = undefined;\n         if (this.props.object) {\n              name = this.props.object.name;\n             if (this.props.object.picture) {\n                 picture = <img src={this.props.object.picture} width={128}\n                 ref={img => this.getPicture = img}/>\n             }\n        }\n        console.error('camera_detail!', this.props.camera);\n        return (\n          <div id=\"content\">\n              <div className=\"content-wrapper col\">\n                  <div className=\"title-wrapper\">\n                      <h2>Редактирование объекта</h2>\n                  </div>\n                  <div className=\"form-group row\">\n                      <label htmlFor=\"name\" className=\"col-sm-2 col-form-label\">Название</label>\n                      <div className=\"col-sm-10\">\n                          <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              id=\"name\"\n                              placeholder=\"Название\"\n                              ref={input => this.getName = input}\n                          />\n                      </div>\n                  </div>\n                  <div className=\"row\">\n                      {picture}\n                  </div>\n                  <div className=\"row\">\n                      <ImageUploader\n                          withIcon={true}\n                          buttonText='Выберите изображение'\n                          imgExtension={['.jpg', '.gif', '.png', '.svg', '.jpeg']}\n                          maxFileSize={524288000}\n                          onChange={(pictureFiles, pictureDataURLs) => this.onDropImage(pictureFiles, pictureDataURLs)}/>\n                  </div>\n                  <div className=\"form-group row\">\n                    <div className=\"col-sm-8\"></div>\n                  <div className=\"col-sm-2\">\n                      <button onClick={e => this.handleCancel(e)} className=\"btn btn-secondary float-right\">\n                          Отмена\n                      </button>\n                  </div>\n                    <div className=\"col-sm-2\">\n                        <button onClick={e => this.handleSave(e)} className=\"btn btn-primary float-right\">\n                            Сохранить\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        );\n    }\n}\n\nexport default connect(\n    state => ({\n        user: state.user,\n        object: state.object,\n    }),\n    dispatch => ({\n\n        addPicture: (picture, p) => {\n            dispatch(objectDetailActions.addPicture(picture, p));\n        },\n        saveObject: (name, picture) => {\n            dispatch(objectDetailActions.saveObject(name, picture));\n        },\n        navigateTo: (name, params) => {\n          dispatch(routerActions.navigateTo(name, params));\n        }\n    }),\n)(ObjectEdit);\n"]},"metadata":{},"sourceType":"module"}